# ========================================
# StudyBuddy Production Environment Configuration  
# ========================================
# FOR PRODUCTION DEPLOYMENT ONLY
# Copy this file to .env.local on your production server

# ========================================
# Database Configuration (REQUIRED)
# ========================================
# Use PostgreSQL for production (recommended)
DATABASE_URL="postgresql://username:password@your-db-host:5432/studybuddy_prod"
DIRECT_URL="postgresql://username:password@your-db-host:5432/studybuddy_prod"

# Alternative: Supabase Database
# DATABASE_URL="postgresql://postgres.xxx:password@aws-0-region.pooler.supabase.com:6543/postgres"

# ========================================
# NextAuth.js Configuration (REQUIRED)
# ========================================
# Your production domain
NEXTAUTH_URL="https://yourdomain.com"
# Strong secret key (generate with: openssl rand -base64 32)
NEXTAUTH_SECRET="your-production-secret-minimum-32-characters-long"

# ========================================
# Founder Access Configuration (REQUIRED)
# ========================================
# Your founder email address
FOUNDER_EMAILS="minhpham240909@gmail.com"
NEXT_PUBLIC_FOUNDER_EMAILS="minhpham240909@gmail.com"

# ========================================
# OAuth Providers (REQUIRED)
# ========================================
# Google OAuth (update with production credentials)
# Create new OAuth app at: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID="your-production-google-client-id"
GOOGLE_CLIENT_SECRET="your-production-google-client-secret"

# GitHub OAuth (optional)
GITHUB_ID="your-github-app-id"
GITHUB_SECRET="your-github-app-secret"

# ========================================
# AI Services (REQUIRED for AI features)
# ========================================
# OpenAI API for study features
OPENAI_API_KEY="***REMOVED***"
AI_MODEL="gpt-4"

# ========================================
# Supabase Configuration (REQUIRED for real-time features)
# ========================================
# Get from: https://supabase.com/dashboard
NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-supabase-anon-key"
SUPABASE_SERVICE_ROLE_KEY="your-supabase-service-role-key"

# ========================================
# Email Services (OPTIONAL)
# ========================================
# Choose one email service for notifications
EMAIL_SERVICE="resend"  # or "sendgrid" or leave empty to disable

# Resend (recommended)
RESEND_API_KEY="re_your-resend-api-key"
FROM_EMAIL="StudyBuddy <noreply@yourdomain.com>"

# SendGrid (alternative)
# SENDGRID_API_KEY="SG.your-sendgrid-api-key"
# FROM_EMAIL="noreply@yourdomain.com"

# Admin notification emails
ADMIN_EMAILS="minhpham240909@gmail.com"

# ========================================
# Monitoring & Alerts (OPTIONAL)
# ========================================
# Slack webhook for notifications
SLACK_WEBHOOK_URL="https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK"

# Discord webhook for notifications  
DISCORD_WEBHOOK_URL="https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK"

# Sentry for error tracking
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"

# ========================================
# Performance & Analytics (OPTIONAL)
# ========================================
# Google Analytics
GOOGLE_ANALYTICS_ID="G-YOUR-GA-ID"

# Feature flags
ENABLE_AI_FEATURES="true"
ENABLE_REAL_TIME_CHAT="true"
ENABLE_PUSH_NOTIFICATIONS="true"
ENABLE_ANALYTICS="true"

# ========================================
# Security Configuration (PRODUCTION)
# ========================================
NODE_ENV="production"
NEXT_PUBLIC_APP_URL="https://yourdomain.com"

# Rate limiting
RATE_LIMIT_MAX_REQUESTS="100"
RATE_LIMIT_WINDOW_MS="900000"

# Content Security Policy (adjust domains as needed)
CONTENT_SECURITY_POLICY="default-src 'self'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https: blob:; connect-src 'self' https://api.openai.com https://www.googleapis.com https://api.github.com https://*.supabase.co wss://*.supabase.co; frame-ancestors 'none'; base-uri 'self'; form-action 'self';"

# ========================================
# File Upload (OPTIONAL)
# ========================================
# Cloudinary for image/file uploads
CLOUDINARY_CLOUD_NAME="your-cloud-name"
CLOUDINARY_API_KEY="your-api-key"
CLOUDINARY_API_SECRET="your-api-secret"

# ========================================
# Push Notifications (OPTIONAL)
# ========================================
# Generate with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY="your-vapid-public-key"
VAPID_PRIVATE_KEY="your-vapid-private-key"
VAPID_SUBJECT="mailto:support@yourdomain.com"